<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Is That You?</title>
    <!-- Library Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Great+Vibes&display=swap"
      rel="stylesheet" />
    <style>
      :root {
        --primary: #ff4d6d;
        --secondary: #ff8fa3;
        --bg-color: #fff0f3;
        --card-bg: rgba(255, 255, 255, 0.9);
        --text-color: #590d22;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }

      body {
        background-color: var(--bg-color);
        background-image: radial-gradient(
          var(--secondary) 1px,
          transparent 1px
        );
        background-size: 30px 30px;
        color: var(--text-color);
        overflow-x: hidden;
      }

      /* --- UTILITIES --- */
      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }

      .section-title {
        font-family: "Great Vibes", cursive;
        font-size: 3.5rem;
        color: var(--primary);
        text-align: center;
        margin-bottom: 20px;
        text-shadow: 2px 2px 0px rgba(255, 255, 255, 0.5);
      }

      /* --- ANIMATION --- */
      .scroll-reveal {
        transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }
      .hidden-section {
        opacity: 0;
        transform: translateY(80px) scale(0.9);
        filter: blur(8px);
      }
      .visible-section {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
      }

      /* --- LOGIN SCREEN --- */
      #login-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: linear-gradient(135deg, #ff4d6d, #ff97b7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.8s ease;
        overflow: hidden;
      }

      #particles-canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
      }

      .login-box {
        position: relative;
        z-index: 10;
        background: rgba(255, 255, 255, 0.75);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        padding: 3rem;
        border-radius: 20px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
        text-align: center;
        width: 90%;
        max-width: 400px;
      }

      .login-box h1 {
        font-family: "Great Vibes", cursive;
        font-size: 3rem;
        color: var(--primary);
        margin-bottom: 10px;
      }

      .login-input {
        width: 100%;
        padding: 15px;
        border: 2px solid #ffe5ec;
        border-radius: 10px;
        margin: 20px 0;
        text-align: center;
        font-size: 1rem;
        outline: none;
        transition: 0.3s;
        background: rgba(255, 255, 255, 0.9);
      }

      .login-input:focus {
        border-color: var(--primary);
        background: white;
      }

      .btn-main {
        background: var(--primary);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 50px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition:
          transform 0.2s,
          box-shadow 0.2s;
      }

      .btn-main:hover {
        transform: scale(1.05);
        box-shadow: 0 10px 20px rgba(255, 77, 109, 0.4);
      }

      /* --- MAIN CONTENT --- */
      #main-content {
        display: none;
      }

      .hero {
        height: 80vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
      }

      #typing-text {
        font-weight: 600;
        color: var(--primary);
        border-right: 3px solid var(--primary);
        padding-right: 5px;
        animation: blink 0.7s infinite;
      }

      @keyframes blink {
        50% {
          border-color: transparent;
        }
      }

      /* --- NEW: REALTIME CLOCK STYLE --- */
      .timer-box {
        background: white;
        padding: 25px;
        border-radius: 15px;
        text-align: center;
        margin: 20px auto 50px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        max-width: 600px;
        border: 2px solid var(--secondary);
      }

      .timer-title {
        font-size: 1.1rem;
        margin-bottom: 15px;
        color: #777;
      }

      .timer-grid {
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
      }

      .timer-item {
        background: #fff0f3;
        padding: 10px;
        border-radius: 10px;
        min-width: 80px;
        border: 1px solid var(--secondary);
      }

      .timer-number {
        display: block;
        font-size: 2rem;
        font-weight: bold;
        color: var(--primary);
        line-height: 1;
      }

      .timer-label {
        font-size: 0.8rem;
        color: var(--text-color);
      }

      /* Letter */
      .letter-container {
        background: var(--card-bg);
        padding: 40px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        margin: 50px auto;
        position: relative;
        transform: rotate(-1deg);
        border: 1px solid #ffe5ec;
      }

      .letter-container::before {
        content: "ðŸ’Œ";
        position: absolute;
        top: -25px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 3rem;
      }

      /* Gallery */
      .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 20px;
        margin: 40px 0;
      }

      .polaroid {
        background: white;
        padding: 10px 10px 40px 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        transform: rotate(var(--r));
        transition: 0.3s;
        cursor: pointer;
      }
      .polaroid:hover {
        transform: scale(1.1) rotate(0deg);
        z-index: 10;
      }
      .polaroid img {
        width: 100%;
        border-radius: 3px;
      }

      /* Modal */
      .modal {
        display: none;
        position: fixed;
        z-index: 10000;
        padding-top: 50px;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.9);
        backdrop-filter: blur(5px);
      }
      .modal-content {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 700px;
        max-height: 80vh;
        object-fit: contain;
        border-radius: 10px;
        animation: zoom 0.6s;
      }
      @keyframes zoom {
        from {
          transform: scale(0);
        }
        to {
          transform: scale(1);
        }
      }
      .close-modal {
        position: absolute;
        top: 20px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
        cursor: pointer;
      }

      /* Game Area */
      #game-area {
        background: linear-gradient(to bottom, #fff0f3, #ffe5ec);
        border-radius: 20px;
        padding: 20px;
        text-align: center;
        border: 4px solid white;
        box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.05);
        margin: 50px 0;
        position: relative;
        overflow: hidden;
        height: 350px;
      }

      .target-heart {
        position: absolute;
        font-size: 2.5rem;
        cursor: pointer;
        animation: float 2s infinite ease-in-out;
        user-select: none;
        transition: transform 0.1s;
      }
      .target-heart:active {
        transform: scale(0.8);
      }

      /* WA & Music Button */
      .wa-container {
        text-align: center;
        margin: 80px 0;
      }
      .wa-btn {
        background: #25d366;
        color: white;
        text-decoration: none;
        padding: 15px 40px;
        border-radius: 50px;
        font-size: 1.2rem;
        font-weight: bold;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        box-shadow: 0 10px 20px rgba(37, 211, 102, 0.4);
        animation: pulse 2s infinite;
      }
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Floating Music Control */
      .music-control {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: white;
        padding: 10px;
        border-radius: 50%;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        z-index: 1000;
        font-size: 1.5rem;
        border: 2px solid var(--primary);
        display: none; /* Muncul setelah login */
        animation: spin 4s linear infinite;
      }
      @keyframes spin {
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <!-- Audio -->
    <audio id="bgMusic" loop>
      <source src="audio.mpeg" type="audio/mpeg" />
    </audio>

    <!-- Music Control Button -->
    <div id="musicBtn" class="music-control" onclick="toggleMusic()">ðŸŽµ</div>

    <!-- Login Section -->
    <div id="login-screen">
      <canvas id="particles-canvas"></canvas>
      <div class="login-box">
        <h1>Login</h1>
        <p>Who are you???</p>
        <input
          type="text"
          id="nameInput"
          class="login-input"
          placeholder="Your Full Name..." />
        <button class="btn-main" onclick="attemptLogin()">
          Step Into My Heart
        </button>
        <p
          id="error-msg"
          style="
            color: #d00000;
            font-size: 0.9rem;
            margin-top: 10px;
            display: none;
          ">
          Sorry, access denied. Only for my angel.
        </p>
      </div>
    </div>

    <!-- Preview Modal -->
    <div id="imageModal" class="modal">
      <span class="close-modal">&times;</span>
      <img class="modal-content" id="img01" />
    </div>

    <!-- Main Content -->
    <div id="main-content">
      <div class="hero container visible-section">
        <h1 class="section-title" style="font-size: 4rem">
          Happy Valentine's Day!
        </h1>
        <h2>To my dearest, <br /><span id="typing-text"></span></h2>
      </div>

      <!-- NEW: REALTIME CLOCK SECTION -->
      <div class="container scroll-reveal">
        <div class="timer-box">
          <p class="timer-title">We have been loving each other for:</p>
          <div class="timer-grid">
            <div class="timer-item">
              <span class="timer-number" id="days">0</span>
              <span class="timer-label">Days</span>
            </div>
            <div class="timer-item">
              <span class="timer-number" id="hours">00</span>
              <span class="timer-label">Hours</span>
            </div>
            <div class="timer-item">
              <span class="timer-number" id="minutes">00</span>
              <span class="timer-label">Minutes</span>
            </div>
            <div class="timer-item">
              <span class="timer-number" id="seconds">00</span>
              <span class="timer-label">Seconds</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Letter -->
      <div class="container scroll-reveal">
        <div class="letter-container">
          <h3
            style="
              text-align: center;
              margin-bottom: 20px;
              color: var(--primary);
            ">
            A Letter For You
          </h3>
          <p style="line-height: 1.8; text-align: justify">
            My Dearest Natasha,<br /><br />
            Happy Valentineâ€™s Day, my love. ðŸ’“<br /><br />
            I made this little surprise because ordinary words could never fully
            express how much you mean to me. Thank you for being the reason
            behind my smiles, for turning ordinary days into beautiful memories.
            Having you in my life is the greatest blessing I could ever ask for.
            <br /><br />
            Through every laugh, every challenge, every quiet moment, I am
            endlessly grateful that weâ€™ve walked this journey together. Being
            with you feels like home. <br /><br />
            And if life gave me the chance to choose again a thousand times. I
            would still choose you. Over and over. In every lifetime.
            <br /><br />
            Forever yours, <br />
            - Azzam
          </p>
        </div>
      </div>

      <!-- Gallery -->
      <div class="container scroll-reveal">
        <h2 class="section-title">Our Memories</h2>
        <p style="text-align: center; font-size: 0.9rem; color: #777">
          (Click on the photo to enlarge)
        </p>
        <div class="gallery-grid">
          <!-- PASTE FOTO KAMU DI SINI -->
          <div class="polaroid" style="--r: -3deg">
            <img src="gambar/1.jpeg" alt="Memory" class="gallery-img" />
          </div>
          <div class="polaroid" style="--r: 2deg">
            <img src="gambar/2.jpeg" alt="Memory" class="gallery-img" />
          </div>
          <div class="polaroid" style="--r: -1deg">
            <img src="gambar/3.jpeg" alt="Memory" class="gallery-img" />
          </div>
          <div class="polaroid" style="--r: 4deg">
            <img src="gambar/4.jpeg" alt="Memory" class="gallery-img" />
          </div>
          <div class="polaroid" style="--r: -3deg">
            <img src="gambar/5.jpeg" alt="Memory" class="gallery-img" />
          </div>
          <div class="polaroid" style="--r: 2deg">
            <img src="gambar/9.jpeg" alt="Memory" class="gallery-img" />
          </div>
          <div class="polaroid" style="--r: -1deg">
            <img src="gambar/6.jpeg" alt="Memory" class="gallery-img" />
          </div>
          <div class="polaroid" style="--r: 4deg">
            <img src="gambar/8.jpeg" alt="Memory" class="gallery-img" />
          </div>
        </div>
      </div>

      <!-- Game -->
      <div class="container scroll-reveal">
        <h2 class="section-title">Let's Play!</h2>
        <p style="text-align: center; margin-bottom: 10px">
          Catch <strong>5 Hearts</strong> to unlock the final surprise!
        </p>
        <p style="text-align: center">
          Score: <span id="score-board">0</span>/5
        </p>
        <div id="game-area">
          <div
            id="start-overlay"
            style="
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background: rgba(255, 255, 255, 0.8);
              display: flex;
              justify-content: center;
              align-items: center;
              z-index: 10;
            ">
            <button class="btn-main" onclick="startGame()">Start Game</button>
          </div>
        </div>
      </div>

      <!-- Final WA -->
      <div
        id="final-surprise"
        class="container hidden-section wa-container"
        style="display: none">
        <h2 class="section-title">You Did It!</h2>
        <p style="margin-bottom: 30px; font-size: 1.2rem">
          Tunggu gift dari aku sampai yaa, masih di perjalanan soalnya
        </p>
        <a
          href="https://wa.me/6285718560391?text=Udah%20selesai%20sayanggg"
          class="wa-btn"
          target="_blank"
          >Send Message to Me</a
        >
      </div>

      <div style="height: 100px"></div>
    </div>

    <script>
      /* --- CONFIGURATION --- */
      const correctName = "natasha aurellia";

      // 1. TANGGAL JADIAN (3 APRIL 2023)
      const startDate = new Date("2023-04-03T00:00:00");

      /* --- LOGIC UTAMA --- */
      const canvas = document.getElementById("particles-canvas");
      const ctx = canvas.getContext("2d");
      let particlesArray;
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      window.addEventListener("resize", () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        initParticles();
      });
      class Particle {
        constructor() {
          this.x = Math.random() * canvas.width;
          this.y = Math.random() * canvas.height;
          this.size = Math.random() * 5 + 1;
          this.speedX = Math.random() * 1.5 - 0.75;
          this.speedY = Math.random() * 1.5 - 0.75;
          this.color = `rgba(255, 255, 255, ${Math.random() * 0.5 + 0.1})`;
        }
        update() {
          this.x += this.speedX;
          this.y += this.speedY;
          if (this.x > canvas.width) this.x = 0;
          else if (this.x < 0) this.x = canvas.width;
          if (this.y > canvas.height) this.y = 0;
          else if (this.y < 0) this.y = canvas.height;
        }
        draw() {
          ctx.fillStyle = this.color;
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fill();
        }
      }
      function initParticles() {
        particlesArray = [];
        const count = canvas.width < 768 ? 50 : 100;
        for (let i = 0; i < count; i++) particlesArray.push(new Particle());
      }
      function animateParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = 0; i < particlesArray.length; i++) {
          particlesArray[i].update();
          particlesArray[i].draw();
        }
        requestAnimationFrame(animateParticles);
      }
      initParticles();
      animateParticles();

      // Login & Flow
      function attemptLogin() {
        const inputName = document
          .getElementById("nameInput")
          .value.toLowerCase()
          .trim();
        const errorMsg = document.getElementById("error-msg");
        const music = document.getElementById("bgMusic");
        const musicBtn = document.getElementById("musicBtn");

        if (inputName === correctName) {
          document.getElementById("login-screen").style.opacity = "0";
          setTimeout(() => {
            document.getElementById("login-screen").style.display = "none";
            document.getElementById("main-content").style.display = "block";
            musicBtn.style.display = "block";
            music.play().catch((e) => console.log("Audio need interaction"));
            typeWriter();

            // Start Realtime Clock
            setInterval(updateClock, 1000);
            updateClock(); // Run immediately

            initScrollReveal();
          }, 800);
        } else {
          errorMsg.style.display = "block";
          const box = document.querySelector(".login-box");
          box.style.transform = "translateX(10px)";
          setTimeout(() => (box.style.transform = "translateX(-10px)"), 100);
          setTimeout(() => (box.style.transform = "translateX(0)"), 200);
        }
      }

      // Typing Effect
      const textToType = "Natasha Aurellia";
      let i = 0;
      function typeWriter() {
        if (i < textToType.length) {
          document.getElementById("typing-text").innerHTML +=
            textToType.charAt(i);
          i++;
          setTimeout(typeWriter, 100);
        }
      }

      // --- REALTIME CLOCK LOGIC ---
      function updateClock() {
        const now = new Date();
        const diff = now - startDate; // Difference in milliseconds

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);

        document.getElementById("days").innerText = days;
        document.getElementById("hours").innerText =
          hours < 10 ? "0" + hours : hours;
        document.getElementById("minutes").innerText =
          minutes < 10 ? "0" + minutes : minutes;
        document.getElementById("seconds").innerText =
          seconds < 10 ? "0" + seconds : seconds;
      }

      // Scroll Reveal
      function initScrollReveal() {
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible-section");
                entry.target.classList.remove("hidden-section");
              } else {
                entry.target.classList.remove("visible-section");
                entry.target.classList.add("hidden-section");
              }
            });
          },
          { threshold: 0.15 },
        );
        document.querySelectorAll(".scroll-reveal").forEach((el) => {
          el.classList.add("hidden-section");
          observer.observe(el);
        });
      }

      // Preview Image
      const modal = document.getElementById("imageModal");
      const modalImg = document.getElementById("img01");
      const galleryImages = document.querySelectorAll(".gallery-img");
      const closeBtn = document.querySelector(".close-modal");
      galleryImages.forEach((img) => {
        img.onclick = function () {
          modal.style.display = "block";
          modalImg.src = this.src;
        };
      });
      closeBtn.onclick = function () {
        modal.style.display = "none";
      };
      modal.onclick = function (event) {
        if (event.target == modal) modal.style.display = "none";
      };

      // Game & Confetti
      let score = 0;
      let gameActive = false;
      function startGame() {
        document.getElementById("start-overlay").style.display = "none";
        gameActive = true;
        spawnHeart();
      }
      function spawnHeart() {
        if (!gameActive || score >= 5) return;
        const area = document.getElementById("game-area");
        const heart = document.createElement("div");
        heart.innerHTML = "â¤ï¸";
        heart.className = "target-heart";
        heart.style.left = Math.random() * (area.clientWidth - 50) + "px";
        heart.style.top = Math.random() * (area.clientHeight - 50) + "px";
        heart.onclick = () => {
          score++;
          document.getElementById("score-board").innerText = score;
          heart.remove();
          if (score >= 5) endGame();
          else spawnHeart();
        };
        area.appendChild(heart);
      }
      function endGame() {
        gameActive = false;
        document.getElementById("game-area").innerHTML =
          "<h3 style='margin-top:130px; color:#ff4d6d'>Hebat Sayanggg!!!</h3>";
        triggerConfetti();
        const surprise = document.getElementById("final-surprise");
        surprise.style.display = "block";
        setTimeout(() => {
          surprise.classList.add("visible-section");
          surprise.classList.remove("hidden-section");
          surprise.scrollIntoView({ behavior: "smooth" });
        }, 100);
      }

      function triggerConfetti() {
        const duration = 3000;
        const end = Date.now() + duration;
        (function frame() {
          confetti({
            particleCount: 5,
            angle: 60,
            spread: 55,
            origin: { x: 0 },
          });
          confetti({
            particleCount: 5,
            angle: 120,
            spread: 55,
            origin: { x: 1 },
          });
          if (Date.now() < end) requestAnimationFrame(frame);
        })();
      }

      // Music Toggle
      function toggleMusic() {
        const music = document.getElementById("bgMusic");
        const btn = document.getElementById("musicBtn");
        if (music.paused) {
          music.play();
          btn.innerHTML = "ðŸŽµ";
          btn.style.animation = "spin 4s linear infinite";
        } else {
          music.pause();
          btn.innerHTML = "ðŸ”‡";
          btn.style.animation = "none";
        }
      }
    </script>
  </body>
</html>


